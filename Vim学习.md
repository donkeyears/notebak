# Vim学习

## 移动光标

vim的目的就是快速的找到位置进行编辑修改，所以几十个命令用于移动。最常见的就是吓死新手的hjkl。换成你常用的鼠标或者键盘，如果在一个文件里，你要从第一行往下走，修改第50行。如果用键盘，你可以用按键下，page down，end 从小范围一行行到一页页的编辑。如果你想用鼠标，你可以滚动滚轮，你也可以拖动右侧的进度条。

同样，vim对不同的粒度移动采用了不同的命令。只不过命令更细致，更有规律。最简单的是hjkl。

> Vi/Vim 中操作单位有很多，按从小到大的顺序为（括号内为相应的操作命令）：字符（h、l）→ 单词 (w、W、b、B、e) → 行 (j、k、0、^、美元符号、 :n) → **句子（(、)）**→ 段落（{、}）→ 屏 (H、M、L) → 页（Ctrl-f前页、Ctrl-b后页、Ctrl-u、Ctrl-d) → 文件（G、gg、:0、:$）。

% 匹配括号，这个很有用

所以你看，vim让你可以一个个字符移动，一行行移动，一段段移动，半页，一页，任意行，文件首尾，都可以。所以要明白，他们是不同的级别。你需求移动多少，然后再去确定命令。

**先定单位再定量** 在移动的时候，我们要先确认要移动多少，选定命令，然后利用数字去加快移动。毕竟移动10个单词，按十次w也是很累人的。先定移动w。在用10w。

### vim中的单词

vim中的单词是指用字母，数字，下划线三类字符组成的串。广义的单词则是通过空白字符分割（空格，tab，换行）



## 文本编辑

与移动一样，修改也有不同的粒度。

> 与光标移动一样，Vi/Vim 中关于编辑操作的命令也比较多，但操作单位要比移动光标少得多。按从小到大的顺序为（括号内为相应的操作命令）：字符 （x、c、s、r、i、a）→ 单词 (cw、cW、cb、cB、dw、dW、db、dB) → 行 (dd、d0、d$、I、A、o、O) → 句子（(、)）→ 段落（{、}）。这些操作单位有些可以加操作次数。操作对象的范围计算公式为：操作范围 = 操作次数 * 操作单位。比如：d3w 命令删除三个单词，10dd 命令删除十行。

x 删除一个字符。c更改并进入插入模式，s替换并进入插入模式，r替换但不进入插入模式。i光标后，a光标前。

## 搜索

/  向后查找

？向前查找

‘*’向后查找当前单词

‘#’ 向前搜索当前单词。

n查找下一个

N查找上一个

忽略大小写，则在最后加入\c

## 查找替换

替换其实需要先查找到。

命令格式

```
:{作用范围}s/{被替换}/{替换成}/{替换标志}
```

作用范围可以这样写：% 全局；5-12 5-12行；“.,+2” 当前到往后2行。**不填默认当前行**

替换标志：g 全局替换，**不填则只替换光标下一个** ，i大小写不敏感，I大小写敏感。等等略

> [ibm vim 效率原则，对于文件中移动讲解很棒](<https://www.ibm.com/developerworks/cn/linux/l-cn-tip-vim/>)
>
> [vim 查找替换](<https://harttle.land/2016/08/08/vim-search-in-file.html>)
>
>